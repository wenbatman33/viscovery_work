var PinstreamUtilitiesWeb={keys:["uid","token","refresh_token","expires_in","source_id"],clientId:"251406c814554f7ca509545b78ae9578",uid:function(){return PinstreamUtilitiesWeb.localStorageGetIem(PinstreamUtilitiesWeb.keys[0])},isExpires:function(e){var t=PinstreamUtilitiesWeb.getTokenInfofromlocalStorage();if(!t)return!0;var i=Math.floor(Date.now()/1e3);return(parseInt(t[PinstreamUtilitiesWeb.keys[3]])||0)-i<=300},setTokenInfoTolocalStorage:function(e){PinstreamUtilitiesWeb.localStorageSetIem(PinstreamUtilitiesWeb.keys[0],e[PinstreamUtilitiesWeb.keys[0]]),PinstreamUtilitiesWeb.localStorageSetIem(PinstreamUtilitiesWeb.keys[1],e[PinstreamUtilitiesWeb.keys[1]]),PinstreamUtilitiesWeb.localStorageSetIem(PinstreamUtilitiesWeb.keys[2],e[PinstreamUtilitiesWeb.keys[2]]),PinstreamUtilitiesWeb.localStorageSetIem(PinstreamUtilitiesWeb.keys[3],e[PinstreamUtilitiesWeb.keys[3]])},getTokenInfofromlocalStorage:function(){var e={};return e[PinstreamUtilitiesWeb.keys[0]]=PinstreamUtilitiesWeb.localStorageGetIem(PinstreamUtilitiesWeb.keys[0]),e[PinstreamUtilitiesWeb.keys[1]]=PinstreamUtilitiesWeb.localStorageGetIem(PinstreamUtilitiesWeb.keys[1]),e[PinstreamUtilitiesWeb.keys[2]]=PinstreamUtilitiesWeb.localStorageGetIem(PinstreamUtilitiesWeb.keys[2]),e[PinstreamUtilitiesWeb.keys[3]]=PinstreamUtilitiesWeb.localStorageGetIem(PinstreamUtilitiesWeb.keys[3]),e},removeTokenInfoTolocalStorage:function(){PinstreamUtilitiesWeb.localStorageRemoveIem(PinstreamUtilitiesWeb.keys[0]),PinstreamUtilitiesWeb.localStorageRemoveIem(PinstreamUtilitiesWeb.keys[1]),PinstreamUtilitiesWeb.localStorageRemoveIem(PinstreamUtilitiesWeb.keys[2]),PinstreamUtilitiesWeb.localStorageRemoveIem(PinstreamUtilitiesWeb.keys[3])},localStorageGetIem:function(e){return localStorage.getItem(e)},localStorageSetIem:function(e,t){return localStorage.setItem(e,t)},localStorageRemoveIem:function(e){return localStorage.removeItem(e)},merge:function(e,t){var i={};for(key in e)i[key]=e[key];for(key in t)i[key]=t[key];return i},updatetoken:function(e){var t=PinstreamUtilitiesWeb.getTokenInfofromlocalStorage(),i=PinstreamUtilitiesWeb.keys[0]+"="+t[PinstreamUtilitiesWeb.keys[0]]+"&"+PinstreamUtilitiesWeb.keys[2]+"="+t[PinstreamUtilitiesWeb.keys[2]]+"&"+PinstreamUtilitiesWeb.keys[3]+"="+t[PinstreamUtilitiesWeb.keys[3]]+"&"+PinstreamUtilitiesWeb.keys[4]+"="+PinstreamUtilitiesWeb.clientId,s=new XMLHttpRequest;s.withCredentials=!0,s.addEventListener("readystatechange",function(){if(4===this.readyState){var t=JSON.parse(this.responseText);t&&t.isSuccess&&PinstreamUtilitiesWeb.setTokenInfoTolocalStorage(t),e(t)}}),s.open("POST","https://leejulee.pythonanywhere.com/api/v1/token"),s.setRequestHeader("content-type","application/x-www-form-urlencoded"),s.setRequestHeader("authorization","Token "+t[PinstreamUtilitiesWeb.keys[1]]),s.setRequestHeader("cache-control","no-cache"),s.send(i)}};